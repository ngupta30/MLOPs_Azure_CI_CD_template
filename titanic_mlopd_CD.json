{"source":2,"revision":4,"description":null,"createdBy":{"displayName":"Neha Gupta","url":"https://spsproduks1.vssps.visualstudio.com/A4349b551-d788-43e6-887e-e39f86401cd9/_apis/Identities/86950eba-3a14-695d-83ea-c65cf3a2c408","_links":{"avatar":{"href":"https://dev.azure.com/nehagupta70966/_apis/GraphProfile/MemberAvatars/aad.ODY5NTBlYmEtM2ExNC03OTVkLTgzZWEtYzY1Y2YzYTJjNDA4"}},"id":"86950eba-3a14-695d-83ea-c65cf3a2c408","uniqueName":"neha.gupta7@kpmg.co.uk","imageUrl":"https://dev.azure.com/nehagupta70966/_apis/GraphProfile/MemberAvatars/aad.ODY5NTBlYmEtM2ExNC03OTVkLTgzZWEtYzY1Y2YzYTJjNDA4","descriptor":"aad.ODY5NTBlYmEtM2ExNC03OTVkLTgzZWEtYzY1Y2YzYTJjNDA4"},"createdOn":"2022-12-16T09:59:50.013Z","modifiedBy":{"displayName":"Neha Gupta","url":"https://spsproduks1.vssps.visualstudio.com/A4349b551-d788-43e6-887e-e39f86401cd9/_apis/Identities/86950eba-3a14-695d-83ea-c65cf3a2c408","_links":{"avatar":{"href":"https://dev.azure.com/nehagupta70966/_apis/GraphProfile/MemberAvatars/aad.ODY5NTBlYmEtM2ExNC03OTVkLTgzZWEtYzY1Y2YzYTJjNDA4"}},"id":"86950eba-3a14-695d-83ea-c65cf3a2c408","uniqueName":"neha.gupta7@kpmg.co.uk","imageUrl":"https://dev.azure.com/nehagupta70966/_apis/GraphProfile/MemberAvatars/aad.ODY5NTBlYmEtM2ExNC03OTVkLTgzZWEtYzY1Y2YzYTJjNDA4","descriptor":"aad.ODY5NTBlYmEtM2ExNC03OTVkLTgzZWEtYzY1Y2YzYTJjNDA4"},"modifiedOn":"2022-12-16T10:10:52.350Z","isDeleted":false,"lastRelease":{"id":6,"name":"Release-6","artifacts":[],"_links":{},"description":"","releaseDefinition":{"id":1,"projectReference":null,"_links":{}},"createdOn":"2022-12-19T20:37:58.390Z","createdBy":{"displayName":"Neha Gupta","url":"https://spsproduks1.vssps.visualstudio.com/A4349b551-d788-43e6-887e-e39f86401cd9/_apis/Identities/86950eba-3a14-695d-83ea-c65cf3a2c408","_links":{"avatar":{"href":"https://dev.azure.com/nehagupta70966/_apis/GraphProfile/MemberAvatars/aad.ODY5NTBlYmEtM2ExNC03OTVkLTgzZWEtYzY1Y2YzYTJjNDA4"}},"id":"86950eba-3a14-695d-83ea-c65cf3a2c408","uniqueName":"neha.gupta7@kpmg.co.uk","imageUrl":"https://dev.azure.com/nehagupta70966/_apis/GraphProfile/MemberAvatars/aad.ODY5NTBlYmEtM2ExNC03OTVkLTgzZWEtYzY1Y2YzYTJjNDA4","descriptor":"aad.ODY5NTBlYmEtM2ExNC03OTVkLTgzZWEtYzY1Y2YzYTJjNDA4"}},"variables":{"azureml.resourceGroup":{"value":"titanic-rg"},"azureml.workspaceName":{"value":"titanic-aml"},"service.name.staging":{"value":"titanic-aci"}},"variableGroups":[],"environments":[{"id":1,"name":"Stage Dev","rank":1,"owner":{"displayName":"Neha Gupta","url":"https://spsproduks1.vssps.visualstudio.com/A4349b551-d788-43e6-887e-e39f86401cd9/_apis/Identities/86950eba-3a14-695d-83ea-c65cf3a2c408","_links":{"avatar":{"href":"https://dev.azure.com/nehagupta70966/_apis/GraphProfile/MemberAvatars/aad.ODY5NTBlYmEtM2ExNC03OTVkLTgzZWEtYzY1Y2YzYTJjNDA4"}},"id":"86950eba-3a14-695d-83ea-c65cf3a2c408","uniqueName":"neha.gupta7@kpmg.co.uk","imageUrl":"https://dev.azure.com/nehagupta70966/_apis/GraphProfile/MemberAvatars/aad.ODY5NTBlYmEtM2ExNC03OTVkLTgzZWEtYzY1Y2YzYTJjNDA4","descriptor":"aad.ODY5NTBlYmEtM2ExNC03OTVkLTgzZWEtYzY1Y2YzYTJjNDA4"},"variables":{},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":1}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":2},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":3}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":{"identifier":"ubuntu-latest"},"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"_titanic_mlops (1)","artifactType":"Build","artifactDownloadMode":"All","artifactItems":[]}]},"queueId":18,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Agent job","refName":null,"workflowTasks":[{"environment":{},"taskId":"33c63b11-352b-45a2-ba1b-54cb568a29ca","version":"0.*","name":"Use Python 3.9","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"versionSpec":"3.9","disableDownloadFromRegistry":"false","allowUnstable":"false","githubToken":"","addToPath":"true","architecture":"x64"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"2.*","name":"Install Azure CLI ","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"8c0e6e08-3f26-4e4b-8498-56d365a53d50","scriptType":"bash","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"az extension add -n azure-cli-ml","scriptArguments":"","powerShellErrorActionPreference":"stop","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"","failOnStandardError":"false","powerShellIgnoreLASTEXITCODE":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"2.*","name":"Deploy Azure Comp instance ","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"8c0e6e08-3f26-4e4b-8498-56d365a53d50","scriptType":"bash","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"az ml model deploy -g $(azureml.resourceGroup) -w $(azureml.workspaceName) -n $(service.name.staging) -f ../metadata/model.json --dc aciDeploymentConfigStaging.yml --ic inferenceConfig.yml --overwrite","scriptArguments":"","powerShellErrorActionPreference":"stop","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)/_titanic_mlops (1)/landing/deployment","failOnStandardError":"false","powerShellIgnoreLASTEXITCODE":"false"}},{"environment":{},"taskId":"6c731c3c-3c68-459a-a5c9-bde6e6595b5b","version":"3.*","name":"Install python req","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"targetType":"filePath","filePath":"$(System.DefaultWorkingDirectory)/_titanic_mlops (1)/landing/package_requirement/install_requirements.sh","arguments":"","script":"# Write your commands here\n\necho 'Hello world'\n","workingDirectory":"$(System.DefaultWorkingDirectory)/_titanic_mlops (1)/landing/package_requirement","failOnStderr":"false","bashEnvValue":""}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"2.*","name":"staging test","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"8c0e6e08-3f26-4e4b-8498-56d365a53d50","scriptType":"bash","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"pytest staging_test.py --doctest-modules --junitxml=junit/test-results.xml --cov-report=xml --cov-report=html --scoreurl $(az ml service show -g $(azureml.resourceGroup) -w $(azureml.workspaceName) -n $(service.name.staging) --query scoringUri -o tsv)","scriptArguments":"","powerShellErrorActionPreference":"stop","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)/_titanic_mlops (1)/landing/tests/integration","failOnStandardError":"false","powerShellIgnoreLASTEXITCODE":"false"}},{"environment":{},"taskId":"0b0f01ed-7dde-43ff-9cbb-e48954daf9b1","version":"2.*","name":"Publish Staging Test Results","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"testRunner":"JUnit","testResultsFiles":"**/test-*.xml","searchFolder":"$(System.DefaultWorkingDirectory)","mergeTestResults":"false","failTaskOnFailedTests":"false","testRunTitle":"","platform":"","configuration":"","publishRunAttachments":"true"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"ReleaseStarted","conditionType":1,"value":""}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":6,"url":"https://vsrm.dev.azure.com/nehagupta70966/62dd4673-6e7d-4649-8026-100312d5ae0b/_apis/Release/releases/6","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{"BoardsEnvironmentType":{"$type":"System.String","$value":"unmapped"},"LinkBoardsWorkItems":{"$type":"System.String","$value":"False"}},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://vsrm.dev.azure.com/nehagupta70966/_apis/public/Release/badge/62dd4673-6e7d-4649-8026-100312d5ae0b/1/1"}],"artifacts":[{"sourceId":"62dd4673-6e7d-4649-8026-100312d5ae0b:2","type":"Build","alias":"_titanic_mlops (1)","definitionReference":{"artifactSourceDefinitionUrl":{"id":"https://dev.azure.com/nehagupta70966/_permalink/_build/index?collectionId=78a2eb24-7017-4a96-9304-16e6526f27d7&projectId=62dd4673-6e7d-4649-8026-100312d5ae0b&definitionId=2","name":""},"defaultVersionBranch":{"id":"","name":""},"defaultVersionSpecific":{"id":"","name":""},"defaultVersionTags":{"id":"","name":""},"defaultVersionType":{"id":"latestType","name":"Latest"},"definition":{"id":"2","name":"titanic_mlops (1)"},"definitions":{"id":"","name":""},"IsMultiDefinitionType":{"id":"False","name":"False"},"project":{"id":"62dd4673-6e7d-4649-8026-100312d5ae0b","name":"titanic_mlops"},"repository":{"id":"","name":""}},"isPrimary":true,"isRetained":false}],"triggers":[],"releaseNameFormat":"Release-$(rev:r)","tags":[],"properties":{"DefinitionCreationSource":{"$type":"System.String","$value":"ReleaseNew"},"IntegrateBoardsWorkItems":{"$type":"System.String","$value":"False"},"IntegrateJiraWorkItems":{"$type":"System.String","$value":"false"}},"id":1,"name":"New release pipeline","path":"\\","projectReference":null,"url":"https://vsrm.dev.azure.com/nehagupta70966/62dd4673-6e7d-4649-8026-100312d5ae0b/_apis/Release/definitions/1","_links":{"self":{"href":"https://vsrm.dev.azure.com/nehagupta70966/62dd4673-6e7d-4649-8026-100312d5ae0b/_apis/Release/definitions/1"},"web":{"href":"https://dev.azure.com/nehagupta70966/62dd4673-6e7d-4649-8026-100312d5ae0b/_release?definitionId=1"}}}